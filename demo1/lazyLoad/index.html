<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin:0;
				padding:0;
			}
			div{
				height:300px;
				/*border:1px solid black;*/
				margin-top:50px;
				/*width:600px;*/
			}
			div>img{
				height:100%;
				display:block;
			}
		</style>
	</head>
	<body>
		<div><img src="" alt="" data-src = 'images/1.jpg'></div>
		<div><img src="" alt="" data-src = 'images/2.jpg'></div>
		<div><img src="" alt="" data-src = 'images/3.jpg'></div>
		<div><img src="" alt="" data-src = 'images/4.jpg'></div>
		<div><img src="" alt="" data-src = 'images/5.jpg'></div>
		<div><img src="" alt="" data-src = 'images/6.jpg'></div>
		<div><img src="" alt="" data-src = 'images/7.jpg'></div>
	</body>
	<script src="../src/jquery-3.1.1.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		
		//1.得到所有图片元素
		var images = $('img');
		//2.存储所有图片元素的位置属性
		var imagesTop  = [];
		
		for(var i = 0;i<images.length;i++){
			var tmpTop = images[i].getBoundingClientRect().top;
			imagesTop.push(tmpTop);
		}
		
		//浏览器窗口大小
		var windowHeigth = $(window).height();
		
		$(window).resize(function(){
			windowHeigth = $(window).height();
			console.log(windowHeigth)
			
		})
		
		//在滚动的时候判断元素是否出现在屏幕中
		
		$(window).scroll(function(param){
			showImages();
		})
		
		function showImages(){
			var documentTop = $(document).scrollTop();
			
			for(var i = 0;i<images.length;i++){
				var tmpTop = images[i].getBoundingClientRect().top;
				if(tmpTop-windowHeigth<=-300){
					images[i].src = $(images[i]).attr('data-src');
					console.log(tmpTop);
				
				}
			}
		}
		showImages();
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</script>
</html>
